<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Example: beam01 &mdash; FEM.edu FEM.edu-v1.0.1 documentation</title>
      <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/sg_gallery.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/sg_gallery-binder.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/sg_gallery-dataframe.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/sg_gallery-rendered-html.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Example: beam02" href="../beam02/beam02.html" />
    <link rel="prev" title="Beam Examples" href="../../beam_examples.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../../index.html" class="icon icon-home"> FEM.edu
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../general/Installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../general/about.html">About the Developers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../auto_examples/index.html">Example Gallery</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../auto_tutorials/index.html">Tutorials Gallery</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../tutorials.html">Tutorials (Deprecated)</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../truss_examples.html">Truss Examples</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../beam_examples.html">Beam Examples</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">Example: beam01</a></li>
<li class="toctree-l3"><a class="reference internal" href="../beam02/beam02.html">Example: beam02</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../beam_examples.html#how-to-run-a-beam-example-from-the-distribution">How to run a beam example from the distribution</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../frame_examples.html">Frame Examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../plate_examples.html">Plate Examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../continuum_examples.html">Continuum Examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../mixed_structures_examples.html">Mixed Structures Examples</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../design.html">Program Design</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../implementation/implementation.html">Implementation</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">FEM.edu</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../../../tutorials.html">Tutorials (Deprecated)</a> &raquo;</li>
          <li><a href="../../beam_examples.html">Beam Examples</a> &raquo;</li>
      <li>Example: beam01</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../_sources/tutorials/beams/beam01/beam01.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="example-beam01">
<h1>Example: beam01<a class="headerlink" href="#example-beam01" title="Permalink to this heading"></a></h1>
<p>We build the model based a few parameters as follows.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span>        <span class="c1"># initialize a system model</span>
<span class="linenos">2</span>        <span class="n">SpanLength</span> <span class="o">=</span> <span class="mf">10.0</span> <span class="o">*</span> <span class="mi">12</span>
<span class="linenos">3</span>        <span class="n">w</span> <span class="o">=</span>  <span class="o">-</span><span class="mf">1.0</span>   <span class="c1"># distributed load (positive if acting in local y-direction</span>
<span class="linenos">4</span>        <span class="n">P</span> <span class="o">=</span>   <span class="o">-</span><span class="mf">40.0</span>   <span class="c1"># center point load (uses global system)</span>
<span class="linenos">5</span>
<span class="linenos">6</span>        <span class="n">Nelems</span> <span class="o">=</span> <span class="mi">4</span>    <span class="c1"># number of elements</span>
<span class="linenos">7</span>        <span class="n">params</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;E&#39;</span><span class="p">:</span> <span class="mf">29000.</span><span class="p">,</span> <span class="s1">&#39;A&#39;</span><span class="p">:</span> <span class="mf">4.7</span><span class="p">,</span> <span class="s1">&#39;I&#39;</span><span class="p">:</span><span class="mi">103</span><span class="p">}</span>
</pre></div>
</div>
<p>All mesh creation is based solely on the above parameters to allow for easy
manipulation of the model.</p>
<p>The actual model is built by the block below.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 8</span>        <span class="n">model</span> <span class="o">=</span> <span class="n">System</span><span class="p">()</span>
<span class="linenos"> 9</span>
<span class="linenos">10</span>        <span class="c1"># meshing parameters</span>
<span class="linenos">11</span>        <span class="n">Le</span> <span class="o">=</span> <span class="n">SpanLength</span> <span class="o">/</span> <span class="n">Nelems</span>
<span class="linenos">12</span>        <span class="n">Xnode</span> <span class="o">=</span> <span class="mf">0.0</span>
<span class="linenos">13</span>        <span class="n">Ynode</span> <span class="o">=</span> <span class="mf">0.0</span>
<span class="linenos">14</span>
<span class="linenos">15</span>        <span class="c1"># create left node</span>
<span class="linenos">16</span>        <span class="n">nd0</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">Xnode</span><span class="p">,</span> <span class="n">Ynode</span><span class="p">)</span>
<span class="linenos">17</span>        <span class="n">model</span> <span class="o">+=</span> <span class="n">nd0</span>
<span class="linenos">18</span>
<span class="linenos">19</span>        <span class="n">ndP</span> <span class="o">=</span> <span class="kc">None</span>
<span class="linenos">20</span>
<span class="linenos">21</span>        <span class="c1"># initialization for node and element creation</span>
<span class="linenos">22</span>        <span class="n">ndi</span> <span class="o">=</span> <span class="n">nd0</span>
<span class="linenos">23</span>
<span class="linenos">24</span>        <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">Nelems</span><span class="p">):</span>
<span class="linenos">25</span>            <span class="c1"># create next node</span>
<span class="linenos">26</span>            <span class="n">Xnode</span> <span class="o">+=</span> <span class="n">Le</span>
<span class="linenos">27</span>            <span class="n">ndj</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">Xnode</span><span class="p">,</span> <span class="n">Ynode</span><span class="p">)</span>
<span class="linenos">28</span>            <span class="n">model</span> <span class="o">+=</span> <span class="n">ndj</span>
<span class="linenos">29</span>
<span class="linenos">30</span>            <span class="c1"># remember center node for loading</span>
<span class="linenos">31</span>            <span class="k">if</span> <span class="n">Xnode</span> <span class="o">&lt;=</span> <span class="n">SpanLength</span><span class="o">/</span><span class="mi">2</span><span class="p">:</span>
<span class="linenos">32</span>                <span class="n">ndP</span> <span class="o">=</span> <span class="n">ndj</span>
<span class="linenos">33</span>
<span class="linenos">34</span>            <span class="c1"># create elements</span>
<span class="linenos">35</span>            <span class="n">elem</span> <span class="o">=</span> <span class="n">Beam2D</span><span class="p">(</span><span class="n">ndi</span><span class="p">,</span> <span class="n">ndj</span><span class="p">,</span> <span class="n">ElasticSection</span><span class="p">(</span><span class="n">params</span><span class="p">))</span>
<span class="linenos">36</span>            <span class="n">model</span> <span class="o">+=</span> <span class="n">elem</span>
<span class="linenos">37</span>
<span class="linenos">38</span>            <span class="c1"># load the element</span>
<span class="linenos">39</span>            <span class="n">elem</span><span class="o">.</span><span class="n">setDistLoad</span><span class="p">(</span><span class="n">w</span><span class="p">)</span>
<span class="linenos">40</span>
<span class="linenos">41</span>            <span class="c1"># shift one node to the right</span>
<span class="linenos">42</span>            <span class="n">ndi</span> <span class="o">=</span> <span class="n">ndj</span>
</pre></div>
</div>
<p>Line 8 instantiates one model space.</p>
<p>Lines 16, 25-27 create the nodes, and
lines 17 and 28 add them to the model space.</p>
<p>Lines 34-36 create the elements and  add them to the model space.
You only need to create variables for <cite>Node</cite> and <cite>Element</cite> objects, respectively,
if you need to either add or retrieve information from that object later.</p>
<p>The support conditions are defined by providing the respective information
directly to the supported nodes.
The following lines add a pin support on the first node and a roller on the last one.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="linenos">43</span>        <span class="c1"># define support(s)</span>
<span class="linenos">44</span>        <span class="n">nd0</span><span class="o">.</span><span class="n">fixDOF</span><span class="p">(</span><span class="s1">&#39;ux&#39;</span><span class="p">,</span> <span class="s1">&#39;uy&#39;</span><span class="p">)</span>     <span class="c1"># pin support left end</span>
<span class="linenos">45</span>        <span class="n">ndj</span><span class="o">.</span><span class="n">fixDOF</span><span class="p">(</span><span class="s1">&#39;uy&#39;</span><span class="p">)</span>           <span class="c1"># roller support right end</span>
</pre></div>
</div>
<p>We still need to apply the point load at the center node.
In the above element creation loop, we identified the node closest to the center node (will be exactly at the center
if <cite>Nelem</cite> is an even number) and stored it as <cite>ndP</cite>.
Apply the  nodal force at <cite>ndP</cite> by the next lines to complete the model.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="linenos">46</span>        <span class="c1"># add point loads</span>
<span class="linenos">47</span>        <span class="c1"># .. load only the center node</span>
<span class="linenos">48</span>        <span class="k">if</span> <span class="n">ndP</span><span class="p">:</span>
<span class="linenos">49</span>            <span class="n">ndP</span><span class="o">.</span><span class="n">setLoad</span><span class="p">([</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">P</span><span class="p">],</span> <span class="p">(</span><span class="s1">&#39;ux&#39;</span><span class="p">,</span> <span class="s1">&#39;uy&#39;</span><span class="p">))</span>
</pre></div>
</div>
<p>The system equations are solved by a single call to the solver:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="linenos">50</span>        <span class="c1"># analyze the model</span>
<span class="linenos">51</span>        <span class="n">model</span><span class="o">.</span><span class="n">solve</span><span class="p">()</span>
</pre></div>
</div>
<p>You can obtain a debug-style report on the state of the system:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="linenos">52</span>        <span class="c1"># write out report</span>
<span class="linenos">53</span>        <span class="n">model</span><span class="o">.</span><span class="n">report</span><span class="p">()</span>
</pre></div>
</div>
<p>Resulting in an output like (may change as the code evolves).</p>
<blockquote>
<div><div class="highlight-text notranslate"><div class="highlight"><pre><span></span>System Analysis Report
=======================

Nodes:
---------------------
  Node 0: {&#39;uy&#39;: 0, &#39;rz&#39;: 1}
          x:[0. 0.], fix:[&#39;ux&#39;, &#39;uy&#39;],
          P:[0. 0.], u:[ 0.         -0.03615668]
  Node 1: {&#39;uy&#39;: 0, &#39;rz&#39;: 1}
          x:[30.  0.], fix:[],
          P:[0. 0.], u:[-0.97547707 -0.02561098]
  Node 2: {&#39;uy&#39;: 0, &#39;rz&#39;: 1}
          x:[60.  0.], fix:[],
          P:[-40.   0.], u:[-1.38600603e+00 -1.37017950e-17]
  Node 3: {&#39;uy&#39;: 0, &#39;rz&#39;: 1}
          x:[90.  0.], fix:[],
          P:[0. 0.], u:[-0.97547707  0.02561098]
  Node 4: {&#39;uy&#39;: 0, &#39;rz&#39;: 1}
          x:[120.   0.], fix:[&#39;uy&#39;],
          P:[0. 0.], u:[0.         0.03615668]

Elements:
---------------------
  Beam2D: node 0 to node 1:
     material ElasticSection properties: {&#39;E&#39;: 29000.0, &#39;A&#39;: 4.7, &#39;I&#39;: 103, &#39;nu&#39;: 0.0, &#39;fy&#39;: 1e+30}  strain:{&#39;axial&#39;: 0.0, &#39;flexure&#39;: 0.0}   stress:{&#39;axial&#39;: 0.0, &#39;flexure&#39;: 0.0}
     nodal forces: Vi:65.0 Mi:-74.99999999999909 Vj:-65.0 Mj:2024.999999999989
  Beam2D: node 1 to node 2:
     material ElasticSection properties: {&#39;E&#39;: 29000.0, &#39;A&#39;: 4.7, &#39;I&#39;: 103, &#39;nu&#39;: 0.0, &#39;fy&#39;: 1e+30}  strain:{&#39;axial&#39;: 0.0, &#39;flexure&#39;: 0.0}   stress:{&#39;axial&#39;: 0.0, &#39;flexure&#39;: 0.0}
     nodal forces: Vi:34.999999999999886 Mi:-2024.9999999999864 Vj:-34.999999999999886 Mj:3074.999999999981
  Beam2D: node 2 to node 3:
     material ElasticSection properties: {&#39;E&#39;: 29000.0, &#39;A&#39;: 4.7, &#39;I&#39;: 103, &#39;nu&#39;: 0.0, &#39;fy&#39;: 1e+30}  strain:{&#39;axial&#39;: 0.0, &#39;flexure&#39;: 0.0}   stress:{&#39;axial&#39;: 0.0, &#39;flexure&#39;: 0.0}
     nodal forces: Vi:-34.999999999999716 Mi:-3074.99999999998 Vj:34.999999999999716 Mj:2024.9999999999936
  Beam2D: node 3 to node 4:
     material ElasticSection properties: {&#39;E&#39;: 29000.0, &#39;A&#39;: 4.7, &#39;I&#39;: 103, &#39;nu&#39;: 0.0, &#39;fy&#39;: 1e+30}  strain:{&#39;axial&#39;: 0.0, &#39;flexure&#39;: 0.0}   stress:{&#39;axial&#39;: 0.0, &#39;flexure&#39;: 0.0}
     nodal forces: Vi:-65.00000000000023 Mi:-2024.9999999999936 Vj:65.00000000000023 Mj:74.99999999999818
</pre></div>
</div>
</div></blockquote>
<p>An easier way to look at the simulation results are plots.  A deformed system plot is obtained
using the <cite>model.plot()</cite> directive.  If a <cite>filename</cite> is given, the plot will be saved
to the harddrive using that file name.
An internal force plot is created equally simple.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="linenos">54</span>        <span class="c1"># create plots</span>
<span class="linenos">55</span>        <span class="n">model</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">factor</span><span class="o">=</span><span class="mf">10.</span><span class="p">,</span> <span class="n">filename</span><span class="o">=</span><span class="s2">&quot;beam01_deformed.png&quot;</span><span class="p">)</span>
<span class="linenos">56</span>
<span class="linenos">57</span>        <span class="n">model</span><span class="o">.</span><span class="n">beamValuePlot</span><span class="p">(</span><span class="s1">&#39;V&#39;</span><span class="p">,</span> <span class="n">filename</span><span class="o">=</span><span class="s2">&quot;beam01_shear.png&quot;</span><span class="p">)</span>
<span class="linenos">58</span>        <span class="n">model</span><span class="o">.</span><span class="n">beamValuePlot</span><span class="p">(</span><span class="s1">&#39;M&#39;</span><span class="p">,</span> <span class="n">filename</span><span class="o">=</span><span class="s2">&quot;beam01_moment.png&quot;</span><span class="p">)</span>
</pre></div>
</div>
<figure class="align-center" id="id1">
<img alt="../../../_images/beam01_deformed.png" src="../../../_images/beam01_deformed.png" />
<figcaption>
<p><span class="caption-text">Showing file <em>beam01_deformed.png</em></span><a class="headerlink" href="#id1" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<figure class="align-center" id="id2">
<img alt="../../../_images/beam01_shear.png" src="../../../_images/beam01_shear.png" />
<figcaption>
<p><span class="caption-text">Showing file <em>beam01_shear.png</em></span><a class="headerlink" href="#id2" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<figure class="align-center" id="id3">
<img alt="../../../_images/beam01_moment.png" src="../../../_images/beam01_moment.png" />
<figcaption>
<p><span class="caption-text">Showing file <em>beam01_moment.png</em></span><a class="headerlink" href="#id3" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p><strong>Importing the example</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">femedu.examples.beams.beam01</span> <span class="kn">import</span> <span class="o">*</span>

<span class="c1"># load the example</span>
<span class="n">ex</span> <span class="o">=</span> <span class="n">ExampleBeam01</span><span class="p">()</span>
</pre></div>
</div>
<p><strong>More beam examples</strong>: <a class="reference internal" href="../../beam_examples.html"><span class="doc">Beam Examples</span></a></p>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../../beam_examples.html" class="btn btn-neutral float-left" title="Beam Examples" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../beam02/beam02.html" class="btn btn-neutral float-right" title="Example: beam02" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, Peter Mackenzie-Helnwein.
      <span class="lastupdated">Last updated on May 11, 2023.
      </span></p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>